{"uid":"95a2fd1bca70d468","name":"创建设备","fullName":"testcases.test_1_core.test_device.TestDevice#test_add_device","historyId":"20dd2f2ad4bf8533857776971f675fe9","time":{"start":1696921707315,"stop":1696921749228,"duration":41913},"description":"测试创建设备功能是否正常","descriptionHtml":"<p>测试创建设备功能是否正常</p>\n","status":"broken","statusMessage":"playwright._impl._api_types.TimeoutError: Timeout 30000ms exceeded.\n=========================== logs ===========================\nwaiting for locator(\"li\").filter(has_text=\"云平台项目\")\n============================================================","statusTrace":"self = <testcases.test_1_core.test_device.TestDevice object at 0x000001646367D810>\ninit = None\npage = <Page url='http://36.134.46.91:7070/projectManagement/deviceManagement'>\n\n    @allure.title(\"创建设备\")\n    @allure.description(\"测试创建设备功能是否正常\")\n    @pytest.mark.run(order=5)\n    @allure.severity(\"critical\")\n    def test_add_device(self, init, page):\n        self.sidebar = SidebarPage(page)\n        self.device = DevicePage(page)\n        self.sidebar.click_project_max()\n        self.sidebar.click_device()\n>       self.device.add_device(\"云平台项目\", \"云平台项目设备名称\")\n\ntestcases\\test_1_core\\test_device.py:20: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npage\\Device_Page.py:19: in add_device\n    self.click(self.page.locator(\"li\").filter(has_text=project), \"项目\")\ncommon\\BasePages.py:40: in click\n    raise e\ncommon\\BasePages.py:35: in click\n    self.locator.click()\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\sync_api\\_generated.py:15749: in click\n    self._sync(\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_locator.py:159: in click\n    return await self._frame.click(self._selector, strict=True, **params)\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_frame.py:483: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_connection.py:61: in send\n    return await self._connection.wrap_api_call(\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_connection.py:482: in wrap_api_call\n    return await cb()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Channel object at 0x0000016463CD7BE0>\nmethod = 'click'\nparams = {'selector': 'li >> internal:has-text=\"\\\\u4e91\\\\u5e73\\\\u53f0\\\\u9879\\\\u76ee\"i', 'strict': True}\nreturn_as_dict = False\n\n    async def inner_send(\n        self, method: str, params: Optional[Dict], return_as_dict: bool\n    ) -> Any:\n        if params is None:\n            params = {}\n        callback = self._connection._send_message_to_server(self._guid, method, params)\n        if self._connection._error:\n            error = self._connection._error\n            self._connection._error = None\n            raise error\n        done, _ = await asyncio.wait(\n            {\n                self._connection._transport.on_error_future,\n                callback.future,\n            },\n            return_when=asyncio.FIRST_COMPLETED,\n        )\n        if not callback.future.done():\n            callback.future.cancel()\n>       result = next(iter(done)).result()\nE       playwright._impl._api_types.TimeoutError: Timeout 30000ms exceeded.\nE       =========================== logs ===========================\nE       waiting for locator(\"li\").filter(has_text=\"云平台项目\")\nE       ============================================================\n\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_connection.py:97: TimeoutError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1696921426520,"stop":1696921426520,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"pytestconfig","time":{"start":1696921426520,"stop":1696921426520,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"_verify_url","time":{"start":1696921426520,"stop":1696921426520,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"delete_output_dir","time":{"start":1696921426520,"stop":1696921426523,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"playwright","time":{"start":1696921426523,"stop":1696921426937,"duration":414},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"browser_type_launch_args","time":{"start":1696921426523,"stop":1696921426523,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"browser_type","time":{"start":1696921426938,"stop":1696921426938,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"launch_browser","time":{"start":1696921426938,"stop":1696921426938,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"browser","time":{"start":1696921426938,"stop":1696921427356,"duration":418},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"device","time":{"start":1696921427357,"stop":1696921427357,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"browser_context_args","time":{"start":1696921427357,"stop":1696921427357,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"context","time":{"start":1696921667920,"stop":1696921668021,"duration":101},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"page","time":{"start":1696921668021,"stop":1696921668086,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"init","time":{"start":1696921668086,"stop":1696921707314,"duration":39228},"status":"passed","steps":[{"name":"访问网站:http://36.134.46.91:7070/dashboard","time":{"start":1696921668086,"stop":1696921690736,"duration":22650},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"等待8000毫秒后执行下一步操作","time":{"start":1696921690736,"stop":1696921698919,"duration":8183},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"等待8000毫秒后执行下一步操作","time":{"start":1696921698919,"stop":1696921706987,"duration":8068},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"点击关闭首页弹窗","time":{"start":1696921706987,"stop":1696921707314,"duration":327},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":4}],"testStage":{"description":"测试创建设备功能是否正常","status":"broken","statusMessage":"playwright._impl._api_types.TimeoutError: Timeout 30000ms exceeded.\n=========================== logs ===========================\nwaiting for locator(\"li\").filter(has_text=\"云平台项目\")\n============================================================","statusTrace":"self = <testcases.test_1_core.test_device.TestDevice object at 0x000001646367D810>\ninit = None\npage = <Page url='http://36.134.46.91:7070/projectManagement/deviceManagement'>\n\n    @allure.title(\"创建设备\")\n    @allure.description(\"测试创建设备功能是否正常\")\n    @pytest.mark.run(order=5)\n    @allure.severity(\"critical\")\n    def test_add_device(self, init, page):\n        self.sidebar = SidebarPage(page)\n        self.device = DevicePage(page)\n        self.sidebar.click_project_max()\n        self.sidebar.click_device()\n>       self.device.add_device(\"云平台项目\", \"云平台项目设备名称\")\n\ntestcases\\test_1_core\\test_device.py:20: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npage\\Device_Page.py:19: in add_device\n    self.click(self.page.locator(\"li\").filter(has_text=project), \"项目\")\ncommon\\BasePages.py:40: in click\n    raise e\ncommon\\BasePages.py:35: in click\n    self.locator.click()\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\sync_api\\_generated.py:15749: in click\n    self._sync(\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_locator.py:159: in click\n    return await self._frame.click(self._selector, strict=True, **params)\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_frame.py:483: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_connection.py:61: in send\n    return await self._connection.wrap_api_call(\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_connection.py:482: in wrap_api_call\n    return await cb()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Channel object at 0x0000016463CD7BE0>\nmethod = 'click'\nparams = {'selector': 'li >> internal:has-text=\"\\\\u4e91\\\\u5e73\\\\u53f0\\\\u9879\\\\u76ee\"i', 'strict': True}\nreturn_as_dict = False\n\n    async def inner_send(\n        self, method: str, params: Optional[Dict], return_as_dict: bool\n    ) -> Any:\n        if params is None:\n            params = {}\n        callback = self._connection._send_message_to_server(self._guid, method, params)\n        if self._connection._error:\n            error = self._connection._error\n            self._connection._error = None\n            raise error\n        done, _ = await asyncio.wait(\n            {\n                self._connection._transport.on_error_future,\n                callback.future,\n            },\n            return_when=asyncio.FIRST_COMPLETED,\n        )\n        if not callback.future.done():\n            callback.future.cancel()\n>       result = next(iter(done)).result()\nE       playwright._impl._api_types.TimeoutError: Timeout 30000ms exceeded.\nE       =========================== logs ===========================\nE       waiting for locator(\"li\").filter(has_text=\"云平台项目\")\nE       ============================================================\n\nC:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_connection.py:97: TimeoutError","steps":[{"name":"点击项目中心","time":{"start":1696921707315,"stop":1696921707702,"duration":387},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"点击设备管理","time":{"start":1696921707702,"stop":1696921708036,"duration":334},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"等待4000毫秒后执行下一步操作","time":{"start":1696921708036,"stop":1696921712194,"duration":4158},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"点击新增设备按钮","time":{"start":1696921712194,"stop":1696921712482,"duration":288},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"等待2000毫秒后执行下一步操作","time":{"start":1696921712483,"stop":1696921714582,"duration":2099},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"点击选择项目名称","time":{"start":1696921714582,"stop":1696921715124,"duration":542},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"等待1000毫秒后执行下一步操作","time":{"start":1696921715124,"stop":1696921716216,"duration":1092},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"在项目名称输入框内输入数据: 云平台项目","time":{"start":1696921716216,"stop":1696921716555,"duration":339},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"等待2000毫秒后执行下一步操作","time":{"start":1696921716555,"stop":1696921718640,"duration":2085},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"点击项目","time":{"start":1696921718640,"stop":1696921748744,"duration":30104},"status":"broken","statusMessage":"playwright._impl._api_types.TimeoutError: Timeout 30000ms exceeded.\n=========================== logs ===========================\nwaiting for locator(\"li\").filter(has_text=\"云平台项目\")\n============================================================\n","statusTrace":"  File \"E:\\pythonProject\\common\\BasePages.py\", line 35, in click\n    self.locator.click()\n  File \"C:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 15749, in click\n    self._sync(\n  File \"C:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 109, in _sync\n    return task.result()\n  File \"C:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_locator.py\", line 159, in click\n    return await self._frame.click(self._selector, strict=True, **params)\n  File \"C:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_frame.py\", line 483, in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n  File \"C:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_connection.py\", line 61, in send\n    return await self._connection.wrap_api_call(\n  File \"C:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_connection.py\", line 482, in wrap_api_call\n    return await cb()\n  File \"C:\\Users\\Thinkpad\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\playwright\\_impl\\_connection.py\", line 97, in inner_send\n    result = next(iter(done)).result()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"stepsCount":0},{"name":"截取项目---报错截图功能的结果图","time":{"start":1696921748744,"stop":1696921749227,"duration":483},"status":"passed","steps":[],"attachments":[{"uid":"d6514f2057a8d8be","name":"项目---报错截图","source":"d6514f2057a8d8be.png","type":"image/png","size":67914}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"stepsCount":0}],"attachments":[{"uid":"f926e21db49d84d8","name":"log","source":"f926e21db49d84d8.txt","type":"text/plain","size":2535}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":2,"hasContent":true,"stepsCount":11},"afterStages":[{"name":"page::0","time":{"start":1696921749325,"stop":1696921749325,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"context::0","time":{"start":1696921749326,"stop":1696921749460,"duration":134},"status":"passed","steps":[],"attachments":[{"uid":"1509d541370c894d","name":"用例录制文件","source":"1509d541370c894d.webm","type":"video/webm","size":1719379}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"stepsCount":0},{"name":"browser::0","time":{"start":1696921938422,"stop":1696921939217,"duration":795},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"playwright::0","time":{"start":1696921939220,"stop":1696921939249,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"labels":[{"name":"severity","value":"critical"},{"name":"feature","value":"设备管理"},{"name":"tag","value":"run(order=5)"},{"name":"parentSuite","value":"testcases.test_1_core"},{"name":"suite","value":"test_device"},{"name":"subSuite","value":"TestDevice"},{"name":"host","value":"zhangyuanlong-"},{"name":"thread","value":"13104-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcases.test_1_core.test_device"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["run(order=5)"]},"source":"95a2fd1bca70d468.json","parameterValues":["'chromium'"]}